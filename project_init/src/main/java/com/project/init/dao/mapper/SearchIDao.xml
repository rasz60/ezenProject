<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
      "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "com.project.init.dao.SearchIDao">

   <select id="searchHashtag" parameterType="com.project.init.dto.SearchDto" resultType="com.project.init.dto.PostDto">
      SELECT * FROM POST WHERE Hashtag LIKE '%'||#{searchVal}||'%' 
   </select>

	<select id="checkNickName" parameterType="com.project.init.dto.SearchDto" resultType="String">
		DISTINCT SELECT 
		userEmail 
		FROM UserInfo 
		WHERE 
		userNick LIKE '%'||#{searchVal}||'%'
   </select>

   <select id="searchNickName" parameterType="java.util.ArrayList" resultType="com.project.init.dto.PostDto">
   		 SELECT * FROM POST
   		  WHERE POSTNO =  
        <foreach collection="arr" item="arr" open="(" close=")" separator=",">
            ${arr}
        </foreach>
    
   </select>
   
   <select id="checkLocation" parameterType="com.project.init.dto.SearchDto" resultType="String">
		DISTINCT SELECT POSTNO FROM post_dt WHERE location LIKE '%'||#{searchVal}||'%'
   </select>
   
   <select id="searchLocation" parameterType="java.util.ArrayList" resultType="com.project.init.dto.PostDto">
   		 SELECT * FROM POST
   		  WHERE POSTNO =  
        <foreach collection="arr" item="arr" open="(" close=")" separator=",">
            ${arr}
        </foreach>
    
   </select>

</mapper>